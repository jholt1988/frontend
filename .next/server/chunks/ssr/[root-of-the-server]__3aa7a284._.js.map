{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/plabr/PDL_APP/v2/frontend/src/app/services/axiosInstance.js"],"sourcesContent":["// src/services/axiosInstance.js\r\n\r\nimport axios from 'axios';\r\n\r\n\r\n// Create base axios instance\r\nconst api = axios.create({\r\n  baseURL: process.env.API_URL || 'http://localhost:5000/api/v1',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n\r\n  },\r\n  \r\n});\r\n\r\n// Automatically attach token (if exists)\r\napi.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem('token');\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\n// Optional: Global error handler (e.g., auto logout on 401)\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    if (error.response && error.response.status === 401) {\r\n      console.warn('â›” Unauthorized - logging out');\r\n      localStorage.removeItem('token');\r\n      window.location.href = '/login';\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default api;\r\n"],"names":[],"mappings":"AAAA,gCAAgC;;;;AAEhC;;AAGA,6BAA6B;AAC7B,MAAM,MAAM,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS,QAAQ,GAAG,CAAC,OAAO,IAAI;IAChC,SAAS;QACP,gBAAgB;IAElB;AAEF;AAEA,yCAAyC;AACzC,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IACA,OAAO;AACT;AAEA,4DAA4D;AAC5D,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,UACd,CAAC;IACC,IAAI,MAAM,QAAQ,IAAI,MAAM,QAAQ,CAAC,MAAM,KAAK,KAAK;QACnD,QAAQ,IAAI,CAAC;QACb,aAAa,UAAU,CAAC;QACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa","debugId":null}},
    {"offset": {"line": 148, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/plabr/PDL_APP/v2/frontend/src/app/services/apiService.js"],"sourcesContent":["// src/services/apiService.js\r\nimport api from './axiosInstance';\r\n\r\nexport const getPayments = async () => {\r\n  const res = await api.get('/payments/mine');\r\n  return res.data;\r\n};\r\n\r\nexport const createMaintenanceRequest = async (data) => {\r\n  const res = await api.post('/maintenance', data);\r\n  return res.data;\r\n};\r\n\r\nexport const getMaintenanceRequests = async () => {\r\n  const res = await api.get('/maintenance');\r\n  return res.data;\r\n};\r\n\r\nexport const updateMaintenanceStatus = async (id, status) => {\r\n  const res = await api.put(`/maintenance/${id}`, { status });\r\n  return res.data;\r\n}\r\nexport const getTenantProfile = async (userId) => {\r\n  const res = await api.get(`/tenant-profile/${userId}`);\r\n  return res.data;\r\n};\r\n\r\nexport const createTenantProfile = async (profile) => {\r\n  const res = await api.post('/tenant-profile', profile);\r\n  return res.data;\r\n};\r\n\r\nexport const updateTenantProfile = async (userId, profile) => {\r\n  const res = await api.put(`/tenant-profile/${userId}`, profile);\r\n  return res.data;\r\n};\r\n\r\nexport const createPayment = async (data) => {\r\n    const res = await api.post('/payments', data);\r\n    return res.data;\r\n  };\r\n  \r\n  export const getAllPayments = async () => {\r\n    const res = await api.get('/payments');\r\n    return res.data;\r\n  };\r\n  export const searchUsers = async (query) => {\r\n    const res = await api.get(`/users?search=${encodeURIComponent(query)}`);\r\n    return res.data; // assumes it returns [{ id, name, email }]\r\n  };\r\n\r\n  export const getMyPayments = async () => {\r\n    const res = await api.get('/payments/mine');\r\n    return res.data;\r\n  };\r\n  \r\n  export const getDashboardSummary = async () => {\r\n    const res = await api.get('/dashboard/summary');\r\n    return res.data;\r\n  };\r\n\r\n  export const getDashboardStats = async () => {\r\n    const res = await api.get('/dashboard/stats');\r\n    return res.data;\r\n  };\r\n  \r\n  export const getTenantPayments = async (id) => {\r\n  const res = await api.get(`/tenants/${id}/payments`);\r\n  return res.data;\r\n};\r\n\r\nexport const getTenantMaintenance = async (id) => {\r\n  const res = await api.get(`/tenants/${id}/maintenance`);\r\n  return res.data;\r\n};\r\n\r\nexport const getTenants = async (search = '') => {\r\n    const res = await api.get(`/users?role=tenant&search=${encodeURIComponent(search)}`);\r\n    return res.data;\r\n  };\r\n  "],"names":[],"mappings":"AAAA,6BAA6B;;;;;;;;;;;;;;;;;;;AAC7B;;AAEO,MAAM,cAAc;IACzB,MAAM,MAAM,MAAM,uIAAA,CAAA,UAAG,CAAC,GAAG,CAAC;IAC1B,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,2BAA2B,OAAO;IAC7C,MAAM,MAAM,MAAM,uIAAA,CAAA,UAAG,CAAC,IAAI,CAAC,gBAAgB;IAC3C,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,yBAAyB;IACpC,MAAM,MAAM,MAAM,uIAAA,CAAA,UAAG,CAAC,GAAG,CAAC;IAC1B,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,0BAA0B,OAAO,IAAI;IAChD,MAAM,MAAM,MAAM,uIAAA,CAAA,UAAG,CAAC,GAAG,CAAC,CAAC,aAAa,EAAE,IAAI,EAAE;QAAE;IAAO;IACzD,OAAO,IAAI,IAAI;AACjB;AACO,MAAM,mBAAmB,OAAO;IACrC,MAAM,MAAM,MAAM,uIAAA,CAAA,UAAG,CAAC,GAAG,CAAC,CAAC,gBAAgB,EAAE,QAAQ;IACrD,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,sBAAsB,OAAO;IACxC,MAAM,MAAM,MAAM,uIAAA,CAAA,UAAG,CAAC,IAAI,CAAC,mBAAmB;IAC9C,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,sBAAsB,OAAO,QAAQ;IAChD,MAAM,MAAM,MAAM,uIAAA,CAAA,UAAG,CAAC,GAAG,CAAC,CAAC,gBAAgB,EAAE,QAAQ,EAAE;IACvD,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,gBAAgB,OAAO;IAChC,MAAM,MAAM,MAAM,uIAAA,CAAA,UAAG,CAAC,IAAI,CAAC,aAAa;IACxC,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,iBAAiB;IAC5B,MAAM,MAAM,MAAM,uIAAA,CAAA,UAAG,CAAC,GAAG,CAAC;IAC1B,OAAO,IAAI,IAAI;AACjB;AACO,MAAM,cAAc,OAAO;IAChC,MAAM,MAAM,MAAM,uIAAA,CAAA,UAAG,CAAC,GAAG,CAAC,CAAC,cAAc,EAAE,mBAAmB,QAAQ;IACtE,OAAO,IAAI,IAAI,EAAE,2CAA2C;AAC9D;AAEO,MAAM,gBAAgB;IAC3B,MAAM,MAAM,MAAM,uIAAA,CAAA,UAAG,CAAC,GAAG,CAAC;IAC1B,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,sBAAsB;IACjC,MAAM,MAAM,MAAM,uIAAA,CAAA,UAAG,CAAC,GAAG,CAAC;IAC1B,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,oBAAoB;IAC/B,MAAM,MAAM,MAAM,uIAAA,CAAA,UAAG,CAAC,GAAG,CAAC;IAC1B,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,oBAAoB,OAAO;IACxC,MAAM,MAAM,MAAM,uIAAA,CAAA,UAAG,CAAC,GAAG,CAAC,CAAC,SAAS,EAAE,GAAG,SAAS,CAAC;IACnD,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,uBAAuB,OAAO;IACzC,MAAM,MAAM,MAAM,uIAAA,CAAA,UAAG,CAAC,GAAG,CAAC,CAAC,SAAS,EAAE,GAAG,YAAY,CAAC;IACtD,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,aAAa,OAAO,SAAS,EAAE;IACxC,MAAM,MAAM,MAAM,uIAAA,CAAA,UAAG,CAAC,GAAG,CAAC,CAAC,0BAA0B,EAAE,mBAAmB,SAAS;IACnF,OAAO,IAAI,IAAI;AACjB","debugId":null}},
    {"offset": {"line": 241, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/plabr/PDL_APP/v2/frontend/src/app/features/TenantProfile.jsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState, useContext } from 'react';\r\nimport  AuthContext  from '@/context/AuthContext';\r\nimport {\r\n  getTenantProfile,\r\n  updateTenantProfile,\r\n} from '../services/apiService';\r\n\r\nexport default function TenantProfilePage() {\r\n  const { user } = useContext(AuthContext);\r\n  const [profile, setProfile] = useState(null);\r\n  const [formData, setFormData] = useState({});\r\n  const [isEditing, setIsEditing] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (user?.id) {\r\n      getTenantProfile(user.id).then((data) => {\r\n        setProfile(data);\r\n        setFormData(data);\r\n      });\r\n    }\r\n  }, [user]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const updated = await updateTenantProfile(user.id, formData);\r\n    setProfile(updated);\r\n    setIsEditing(false);\r\n  };\r\n\r\n  if (!profile) return <div>Loading profile...</div>;\r\n\r\n  return (\r\n    <div className=\"max-w-xl mx-auto bg-white p-6 rounded shadow\">\r\n      <h2 className=\"text-2xl font-bold mb-4\">Tenant Profile</h2>\r\n\r\n      {isEditing ? (\r\n        <form onSubmit={handleSubmit} className=\"space-y-3\">\r\n          <input name=\"phone\" value={formData.phone || ''} onChange={handleChange} className=\"input\" />\r\n          <input name=\"address\" value={formData.address || ''} onChange={handleChange} className=\"input\" />\r\n          <input type=\"date\" name=\"leaseStart\" value={formData.leaseStart || ''} onChange={handleChange} className=\"input\" />\r\n          <input type=\"date\" name=\"leaseEnd\" value={formData.leaseEnd || ''} onChange={handleChange} className=\"input\" />\r\n          <input type=\"number\" name=\"rentAmount\" value={formData.rentAmount || ''} onChange={handleChange} className=\"input\" />\r\n          <div className=\"flex gap-2\">\r\n            <button type=\"submit\" className=\"btn btn-primary\">Save</button>\r\n            <button onClick={() => setIsEditing(false)} type=\"button\" className=\"btn btn-secondary\">Cancel</button>\r\n          </div>\r\n        </form>\r\n      ) : (\r\n        <div className=\"space-y-2\">\r\n          <p><strong>Phone:</strong> {profile.phone}</p>\r\n          <p><strong>Address:</strong> {profile.address}</p>\r\n          <p><strong>Lease Start:</strong> {profile.leaseStart}</p>\r\n          <p><strong>Lease End:</strong> {profile.leaseEnd}</p>\r\n          <p><strong>Rent:</strong> ${profile.rentAmount}</p>\r\n          <button onClick={() => setIsEditing(true)} className=\"btn btn-primary mt-4\">Edit</button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AASe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE,oIAAA,CAAA,UAAW;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,CAAC;IAC1C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,MAAM,IAAI;YACZ,CAAA,GAAA,oIAAA,CAAA,mBAAgB,AAAD,EAAE,KAAK,EAAE,EAAE,IAAI,CAAC,CAAC;gBAC9B,WAAW;gBACX,YAAY;YACd;QACF;IACF,GAAG;QAAC;KAAK;IAET,MAAM,eAAe,CAAC;QACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM;QAChC,YAAY,CAAC,OAAS,CAAC;gBAAE,GAAG,IAAI;gBAAE,CAAC,KAAK,EAAE;YAAM,CAAC;IACnD;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,MAAM,UAAU,MAAM,CAAA,GAAA,oIAAA,CAAA,sBAAmB,AAAD,EAAE,KAAK,EAAE,EAAE;QACnD,WAAW;QACX,aAAa;IACf;IAEA,IAAI,CAAC,SAAS,qBAAO,8OAAC;kBAAI;;;;;;IAE1B,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;YAEvC,0BACC,8OAAC;gBAAK,UAAU;gBAAc,WAAU;;kCACtC,8OAAC;wBAAM,MAAK;wBAAQ,OAAO,SAAS,KAAK,IAAI;wBAAI,UAAU;wBAAc,WAAU;;;;;;kCACnF,8OAAC;wBAAM,MAAK;wBAAU,OAAO,SAAS,OAAO,IAAI;wBAAI,UAAU;wBAAc,WAAU;;;;;;kCACvF,8OAAC;wBAAM,MAAK;wBAAO,MAAK;wBAAa,OAAO,SAAS,UAAU,IAAI;wBAAI,UAAU;wBAAc,WAAU;;;;;;kCACzG,8OAAC;wBAAM,MAAK;wBAAO,MAAK;wBAAW,OAAO,SAAS,QAAQ,IAAI;wBAAI,UAAU;wBAAc,WAAU;;;;;;kCACrG,8OAAC;wBAAM,MAAK;wBAAS,MAAK;wBAAa,OAAO,SAAS,UAAU,IAAI;wBAAI,UAAU;wBAAc,WAAU;;;;;;kCAC3G,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAO,MAAK;gCAAS,WAAU;0CAAkB;;;;;;0CAClD,8OAAC;gCAAO,SAAS,IAAM,aAAa;gCAAQ,MAAK;gCAAS,WAAU;0CAAoB;;;;;;;;;;;;;;;;;qCAI5F,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;;0CAAE,8OAAC;0CAAO;;;;;;4BAAe;4BAAE,QAAQ,KAAK;;;;;;;kCACzC,8OAAC;;0CAAE,8OAAC;0CAAO;;;;;;4BAAiB;4BAAE,QAAQ,OAAO;;;;;;;kCAC7C,8OAAC;;0CAAE,8OAAC;0CAAO;;;;;;4BAAqB;4BAAE,QAAQ,UAAU;;;;;;;kCACpD,8OAAC;;0CAAE,8OAAC;0CAAO;;;;;;4BAAmB;4BAAE,QAAQ,QAAQ;;;;;;;kCAChD,8OAAC;;0CAAE,8OAAC;0CAAO;;;;;;4BAAc;4BAAG,QAAQ,UAAU;;;;;;;kCAC9C,8OAAC;wBAAO,SAAS,IAAM,aAAa;wBAAO,WAAU;kCAAuB;;;;;;;;;;;;;;;;;;AAKtF","debugId":null}}]
}