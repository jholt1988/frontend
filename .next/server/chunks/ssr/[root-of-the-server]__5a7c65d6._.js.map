{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/plabr/PDL_APP/v2/frontend/src/app/services/axiosInstance.js"],"sourcesContent":["// src/services/axiosInstance.js\r\n\r\nimport axios from 'axios';\r\n\r\n\r\n// Create base axios instance\r\nconst api = axios.create({\r\n  baseURL: process.env.API_URL || 'http://localhost:5000/api/v1',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n\r\n  },\r\n  \r\n});\r\n\r\n// Automatically attach token (if exists)\r\napi.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem('token');\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\n// Optional: Global error handler (e.g., auto logout on 401)\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    if (error.response && error.response.status === 401) {\r\n      console.warn('â›” Unauthorized - logging out');\r\n      localStorage.removeItem('token');\r\n      window.location.href = '/login';\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default api;\r\n"],"names":[],"mappings":"AAAA,gCAAgC;;;;AAEhC;;AAGA,6BAA6B;AAC7B,MAAM,MAAM,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS,QAAQ,GAAG,CAAC,OAAO,IAAI;IAChC,SAAS;QACP,gBAAgB;IAElB;AAEF;AAEA,yCAAyC;AACzC,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IACA,OAAO;AACT;AAEA,4DAA4D;AAC5D,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,UACd,CAAC;IACC,IAAI,MAAM,QAAQ,IAAI,MAAM,QAAQ,CAAC,MAAM,KAAK,KAAK;QACnD,QAAQ,IAAI,CAAC;QACb,aAAa,UAAU,CAAC;QACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa","debugId":null}},
    {"offset": {"line": 148, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/plabr/PDL_APP/v2/frontend/src/app/services/apiService.js"],"sourcesContent":["// src/services/apiService.js\r\nimport api from './axiosInstance';\r\n\r\nexport const getPayments = async () => {\r\n  const res = await api.get('/payments/mine');\r\n  return res.data;\r\n};\r\n\r\nexport const createMaintenanceRequest = async (data) => {\r\n  const res = await api.post('/maintenance', data);\r\n  return res.data;\r\n};\r\n\r\nexport const getMaintenanceRequests = async () => {\r\n  const res = await api.get('/maintenance');\r\n  return res.data;\r\n};\r\n\r\nexport const getTenantProfile = async (userId) => {\r\n  const res = await api.get(`/tenant-profile/${userId}`);\r\n  return res.data;\r\n};\r\n\r\nexport const createTenantProfile = async (profile) => {\r\n  const res = await api.post('/tenant-profile', profile);\r\n  return res.data;\r\n};\r\n\r\nexport const updateTenantProfile = async (userId, profile) => {\r\n  const res = await api.put(`/tenant-profile/${userId}`, profile);\r\n  return res.data;\r\n};\r\n\r\nexport const createPayment = async (data) => {\r\n    const res = await api.post('/payments', data);\r\n    return res.data;\r\n  };\r\n  \r\n  export const searchUsers = async (query) => {\r\n    const res = await api.get(`/users?search=${encodeURIComponent(query)}`);\r\n    return res.data; // assumes it returns [{ id, name, email }]\r\n  };\r\n\r\n  export const getMyPayments = async () => {\r\n    const res = await api.get('/payments/mine');\r\n    return res.data;\r\n  };\r\n  \r\n  export const getDashboardSummary = async () => {\r\n    const res = await api.get('/dashboard/summary');\r\n    return res.data;\r\n  };\r\n\r\n  export const getDashboardStats = async () => {\r\n    const res = await api.get('/dashboard/stats');\r\n    return res.data;\r\n  };\r\n  \r\n  export const getTenantPayments = async (id) => {\r\n  const res = await api.get(`/tenants/${id}/payments`);\r\n  return res.data;\r\n};\r\n\r\nexport const getTenantMaintenance = async (id) => {\r\n  const res = await api.get(`/tenants/${id}/maintenance`);\r\n  return res.data;\r\n};\r\n\r\nexport const getTenants = async (search = '') => {\r\n    const res = await api.get(`/users?role=tenant&search=${encodeURIComponent(search)}`);\r\n    return res.data;\r\n  };\r\n  "],"names":[],"mappings":"AAAA,6BAA6B;;;;;;;;;;;;;;;;;AAC7B;;AAEO,MAAM,cAAc;IACzB,MAAM,MAAM,MAAM,uIAAA,CAAA,UAAG,CAAC,GAAG,CAAC;IAC1B,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,2BAA2B,OAAO;IAC7C,MAAM,MAAM,MAAM,uIAAA,CAAA,UAAG,CAAC,IAAI,CAAC,gBAAgB;IAC3C,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,yBAAyB;IACpC,MAAM,MAAM,MAAM,uIAAA,CAAA,UAAG,CAAC,GAAG,CAAC;IAC1B,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,mBAAmB,OAAO;IACrC,MAAM,MAAM,MAAM,uIAAA,CAAA,UAAG,CAAC,GAAG,CAAC,CAAC,gBAAgB,EAAE,QAAQ;IACrD,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,sBAAsB,OAAO;IACxC,MAAM,MAAM,MAAM,uIAAA,CAAA,UAAG,CAAC,IAAI,CAAC,mBAAmB;IAC9C,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,sBAAsB,OAAO,QAAQ;IAChD,MAAM,MAAM,MAAM,uIAAA,CAAA,UAAG,CAAC,GAAG,CAAC,CAAC,gBAAgB,EAAE,QAAQ,EAAE;IACvD,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,gBAAgB,OAAO;IAChC,MAAM,MAAM,MAAM,uIAAA,CAAA,UAAG,CAAC,IAAI,CAAC,aAAa;IACxC,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,cAAc,OAAO;IAChC,MAAM,MAAM,MAAM,uIAAA,CAAA,UAAG,CAAC,GAAG,CAAC,CAAC,cAAc,EAAE,mBAAmB,QAAQ;IACtE,OAAO,IAAI,IAAI,EAAE,2CAA2C;AAC9D;AAEO,MAAM,gBAAgB;IAC3B,MAAM,MAAM,MAAM,uIAAA,CAAA,UAAG,CAAC,GAAG,CAAC;IAC1B,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,sBAAsB;IACjC,MAAM,MAAM,MAAM,uIAAA,CAAA,UAAG,CAAC,GAAG,CAAC;IAC1B,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,oBAAoB;IAC/B,MAAM,MAAM,MAAM,uIAAA,CAAA,UAAG,CAAC,GAAG,CAAC;IAC1B,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,oBAAoB,OAAO;IACxC,MAAM,MAAM,MAAM,uIAAA,CAAA,UAAG,CAAC,GAAG,CAAC,CAAC,SAAS,EAAE,GAAG,SAAS,CAAC;IACnD,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,uBAAuB,OAAO;IACzC,MAAM,MAAM,MAAM,uIAAA,CAAA,UAAG,CAAC,GAAG,CAAC,CAAC,SAAS,EAAE,GAAG,YAAY,CAAC;IACtD,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,aAAa,OAAO,SAAS,EAAE;IACxC,MAAM,MAAM,MAAM,uIAAA,CAAA,UAAG,CAAC,GAAG,CAAC,CAAC,0BAA0B,EAAE,mBAAmB,SAAS;IACnF,OAAO,IAAI,IAAI;AACjB","debugId":null}},
    {"offset": {"line": 229, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/plabr/PDL_APP/v2/frontend/src/app/features/TenantDirectory.jsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { getTenants } from '../services/apiService';\r\nimport Link from 'next/link';\r\n\r\nexport default function TenantDirectory() {\r\n  const [query, setQuery] = useState('');\r\n  const [tenants, setTenants] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      getTenants(query).then(setTenants);\r\n    }, 300);\r\n    return () => clearTimeout(timer);\r\n  }, [query]);\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto bg-white p-6 rounded shadow\">\r\n      <h2 className=\"text-2xl font-bold mb-4\">Tenant Directory</h2>\r\n\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Search by name or email...\"\r\n        value={query}\r\n        onChange={(e) => setQuery(e.target.value)}\r\n        className=\"input mb-4\"\r\n      />\r\n\r\n      {tenants.length === 0 ? (\r\n        <p>No tenants found.</p>\r\n      ) : (\r\n        <ul className=\"divide-y\">\r\n          {tenants.map((t) => (\r\n            <li key={t.id} className=\"py-3 flex justify-between items-center\">\r\n              <div>\r\n                <p className=\"font-medium\">{t.name}</p>\r\n                <p className=\"text-sm text-gray-600\">{t.email}</p>\r\n              </div>\r\n              <div className=\"flex gap-3 text-sm\">\r\n                <Link href={`/tenants/${t.id}/report`} className=\"text-blue-600 hover:underline\">Report</Link>\r\n                <Link href={`/tenant-profile/${t.id}`} className=\"text-blue-600 hover:underline\">Profile</Link>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAEzC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,QAAQ,WAAW;YACvB,CAAA,GAAA,oIAAA,CAAA,aAAU,AAAD,EAAE,OAAO,IAAI,CAAC;QACzB,GAAG;QACH,OAAO,IAAM,aAAa;IAC5B,GAAG;QAAC;KAAM;IAEV,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;0BAExC,8OAAC;gBACC,MAAK;gBACL,aAAY;gBACZ,OAAO;gBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gBACxC,WAAU;;;;;;YAGX,QAAQ,MAAM,KAAK,kBAClB,8OAAC;0BAAE;;;;;qCAEH,8OAAC;gBAAG,WAAU;0BACX,QAAQ,GAAG,CAAC,CAAC,kBACZ,8OAAC;wBAAc,WAAU;;0CACvB,8OAAC;;kDACC,8OAAC;wCAAE,WAAU;kDAAe,EAAE,IAAI;;;;;;kDAClC,8OAAC;wCAAE,WAAU;kDAAyB,EAAE,KAAK;;;;;;;;;;;;0CAE/C,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,4JAAA,CAAA,UAAI;wCAAC,MAAM,CAAC,SAAS,EAAE,EAAE,EAAE,CAAC,OAAO,CAAC;wCAAE,WAAU;kDAAgC;;;;;;kDACjF,8OAAC,4JAAA,CAAA,UAAI;wCAAC,MAAM,CAAC,gBAAgB,EAAE,EAAE,EAAE,EAAE;wCAAE,WAAU;kDAAgC;;;;;;;;;;;;;uBAP5E,EAAE,EAAE;;;;;;;;;;;;;;;;AAezB","debugId":null}}]
}